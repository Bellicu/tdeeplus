<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TDEE+ Calculator ‚Äì BELLICU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background-color: #dcefe2;
      font-family: Arial, sans-serif;
      padding: 2em;
    }
    .container {
      max-width: 960px;
      background: #fff;
      padding: 2em;
      margin: auto;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #437b3b;
    }
    label, select, input {
      display: block;
      margin-bottom: 1em;
      width: 100%;
    }
    .inline { display: flex; gap: 1em; }
    .inline > div { flex: 1; }
    button {
      padding: 1em;
      width: 100%;
      background: #32cd32;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
    }
    table {
      width: 100%;
      margin-top: 2em;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.75em;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    .logo {
      display: block;
      margin: 0 auto 1.5em;
      max-width: 200px;
    }
    .macros {
      margin-top: 2em;
      padding: 1em;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f9f9f9;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABAABJzQnCgAAAABJRU5ErkJggg==" alt="BELLICU Logo" class="logo" />
    <h2>TDEE+ Calculator</h2>
    <form id="tdeeForm">
      <label>Units:
        <select id="unitSystem" onchange="toggleUnits()">
          <option value="metric">Metric (kg/cm)</option>
          <option value="imperial">Imperial (lbs/in)</option>
        </select>
      </label>
      <label>Age:<input type="number" id="age" required></label>
      <label>Gender:
        <select id="gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </label>
      <div class="inline">
        <div><label>Height: <input type="number" id="height" required> <span id="heightUnit">cm</span></label></div>
        <div><label>Weight: <input type="number" id="weight" required> <span id="weightUnit">kg</span></label></div>
      </div>

      <label>Work Activity:
        <select id="dailyActivity">
          <option value="sedentary">Sedentary (office job)</option>
          <option value="light">Light (retail, walking)</option>
          <option value="active">Active (manual labor)</option>
        </select>
      </label>

      <h3>Primary Training Activity</h3>
      <label>Type:
        <select id="primaryType">
          <option value="fitness">Fitness</option>
          <option value="bodybuilding">Bodybuilding</option>
          <option value="running">Running</option>
          <option value="cycling">Cycling</option>
          <option value="swimming">Swimming</option>
          <option value="walking">Walking</option>
        </select>
      </label>
      <label>Duration (minutes):<input type="number" id="primaryMinutes" required></label>
      <label>Intensity (1‚Äì10):<input type="number" id="primaryIntensity" min="1" max="10" required></label>

      <h3>Secondary Training Activity (Optional)</h3>
      <label>Type:
        <select id="secondaryType">
          <option value="none">None</option>
          <option value="fitness">Fitness</option>
          <option value="bodybuilding">Bodybuilding</option>
          <option value="running">Running</option>
          <option value="cycling">Cycling</option>
          <option value="swimming">Swimming</option>
          <option value="walking">Walking</option>
        </select>
      </label>
      <label>Duration (minutes):<input type="number" id="secondaryMinutes"></label>
      <label>Intensity (1‚Äì10):<input type="number" id="secondaryIntensity" min="1" max="10"></label>

      <h3>Your Goal</h3>
      <label>
        <select id="goal" onchange="toggleCuttingOptions()">
          <option value="maintain">Maintain</option>
          <option value="cut">Cutting</option>
          <option value="bulk">Bulking</option>
        </select>
      </label>

      <div id="cuttingOptions" style="display:none;">
        <label>Cutting Aggression:
          <select id="cutAggression">
            <option value="light">Light (0.25 kg/week)</option>
            <option value="moderate" selected>Moderate (0.5 kg/week)</option>
            <option value="aggressive">Aggressive (0.7 kg/week)</option>
          </select>
        </label>
        <label>Refeed Days per Week:
          <select id="refeedDays">
            <option value="0">None</option>
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </label>
        <label><input type="checkbox" id="showStrategy"> Show 9-week Cutting Strategy</label>
      </div>

      <button type="button" onclick="calculateTDEE()">Calculate</button>
    </form>
    <div id="results" style="margin-top:2em;"></div>

  <script>
    function toggleUnits() {
      const unit = document.getElementById("unitSystem").value;
      document.getElementById("heightUnit").textContent = unit === "metric" ? "cm" : "in";
      document.getElementById("weightUnit").textContent = unit === "metric" ? "kg" : "lbs";
    }

    function toggleCuttingOptions() {
      const goal = document.getElementById("goal").value;
      document.getElementById("cuttingOptions").style.display = (goal === "cut") ? "block" : "none";
    }

    function getActivityCalories(type, minutes, intensity) {
      const base = {
        fitness: 5.5,
        bodybuilding: 6,
        running: 10,
        cycling: 8.5,
        swimming: 9,
        walking: 4
      };
      return (base[type] || 5) * minutes * (intensity / 5);
    }

    function calculateTDEE() {
      const age = parseInt(document.getElementById("age").value);
      const gender = document.getElementById("gender").value;
      let height = parseFloat(document.getElementById("height").value);
      let weight = parseFloat(document.getElementById("weight").value);
      const unit = document.getElementById("unitSystem").value;

      if (unit === "imperial") {
        height *= 2.54;
        weight *= 0.453592;
      }

      const workActivity = document.getElementById("dailyActivity").value;
      const workFactor = { sedentary: 1.2, light: 1.4, active: 1.6 }[workActivity];

      const bmr = gender === "male"
        ? 10 * weight + 6.25 * height - 5 * age + 5
        : 10 * weight + 6.25 * height - 5 * age - 161;

      const primaryType = document.getElementById("primaryType").value;
      const primaryMin = parseInt(document.getElementById("primaryMinutes").value || 0);
      const primaryInt = parseInt(document.getElementById("primaryIntensity").value || 0);
      const secondaryType = document.getElementById("secondaryType").value;
      const secondaryMin = parseInt(document.getElementById("secondaryMinutes").value || 0);
      const secondaryInt = parseInt(document.getElementById("secondaryIntensity").value || 0);

      const primaryCals = getActivityCalories(primaryType, primaryMin, primaryInt);
      const secondaryCals = secondaryType !== "none" ? getActivityCalories(secondaryType, secondaryMin, secondaryInt) : 0;

      const trainingCals = primaryCals + secondaryCals;
      const tdee = Math.round(bmr * workFactor + trainingCals);

      const goal = document.getElementById("goal").value;
      const results = [`<p><strong>Maintenance TDEE:</strong> ${tdee} kcal/day</p>`];

      let targetCals = tdee;
      if (goal === "cut") {
        const aggression = document.getElementById("cutAggression").value;
        const cutMap = { light: 250, moderate: 500, aggressive: 700 };
        targetCals -= cutMap[aggression];
        results.push(`<p><strong>Cutting Calories:</strong> ${targetCals} kcal/day</p>`);
      } else if (goal === "bulk") {
        targetCals += 300;
        results.push(`<p><strong>Bulking Calories:</strong> ${targetCals} kcal/day</p>`);
      }

      // Macro breakdown (simplified)
      const protein = Math.round(weight * 2.2); // 2.2g/kg
      const fat = Math.round(weight * 1);       // 1g/kg
      const fatCals = fat * 9;
      const proteinCals = protein * 4;
      const carbCals = targetCals - fatCals - proteinCals;
      const carbs = Math.round(carbCals / 4);

      results.push(`
        <div class="macros">
          <h4>Suggested Macros:</h4>
          <p><strong>Protein:</strong> ${protein} g</p>
          <p><strong>Fat:</strong> ${fat} g</p>
          <p><strong>Carbs:</strong> ${carbs > 0 ? carbs : 0} g</p>
        </div>
      `);

      if (goal === "cut" && document.getElementById("showStrategy").checked) {
        const refeedDays = parseInt(document.getElementById("refeedDays").value || "0");
        const cutDays = 7 - refeedDays;
        const weeklyDeficit = 3850;
        const fullDeficit = weeklyDeficit / cutDays;
        const w1 = Math.round(tdee - fullDeficit * 0.66);
        const w4 = Math.round(tdee - fullDeficit * 0.85);
        const w7 = Math.round(tdee - fullDeficit);

        results.push(`
        <h3>üìâ 9-Week Cutting Strategy</h3>
        <table>
          <tr><th>Phase</th><th>Cut Days (kcal)</th><th>Refeed Days (kcal)</th></tr>
          <tr><td>Weeks 1‚Äì3</td><td>${w1}</td><td>${tdee}</td></tr>
          <tr><td>Weeks 4‚Äì6</td><td>${w4}</td><td>${tdee}</td></tr>
          <tr><td>Weeks 7‚Äì9</td><td>${w7}</td><td>${tdee}</td></tr>
        </table>
        <h4>üîÅ Reverse Diet (Weeks 10‚Äì12)</h4>
        <p>Add <strong>+100 kcal</strong> every 3 days starting from ~${w7} kcal until you reach ~${tdee} kcal/day again.</p>
        `);
      }

      document.getElementById("results").innerHTML = results.join("");
    }
  </script>
</body>
</html>
