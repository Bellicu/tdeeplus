
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TDEE+ Calculator</title>
  <style>
    body { font-family: 'Inter', sans-serif; background: #f7f7f7; padding: 2em; }
  </style>
</head>
<body>
<div id="tdeeplus-calculator" style="max-width:700px;margin:2em auto;padding:2em;border-radius:16px;background:#fff;box-shadow:0 4px 20px rgba(0,0,0,0.1);font-family:'Inter',sans-serif;">
  <img src="bellicu-logo.png" alt="BELLICU Logo" style="max-width:160px;margin:0 auto 1.5em;display:block;">
  <h2 style="text-align:center;color:#2a7a32;margin-bottom:1em;">TDEE+ Calculator</h2>
  <form id="tdeeForm">
    <label>Units:<br>
      <select id="unitSystem" onchange="toggleUnits()">
        <option value="metric">Metric (kg, cm)</option>
        <option value="imperial">Imperial (lbs, inches)</option>
      </select>
    </label><br><br>
    <label>Age:<br><input type="number" id="age" required></label><br><br>
    <label>Gender:<br>
      <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </label><br><br>
    <label>Height:<br><input type="number" id="height" required> <span id="heightUnit">cm</span></label><br><br>
    <label>Weight:<br><input type="number" id="weight" required> <span id="weightUnit">kg</span></label><br><br>
    <label>Body Fat %:<br><input type="number" id="bodyfat" placeholder="Optional"></label><br><br>

    <label>Daily Activity Level:<br>
      <select id="dailyActivity">
        <option value="sedentary">Sedentary (office work)</option>
        <option value="light">Lightly active (domestic work)</option>
        <option value="active">Active (physical labor)</option>
      </select>
    </label><br><br>

    <h3>Primary Activity</h3>
    <label>Type:<br>
      <select id="primaryActivity">
        <option value="fitness">Fitness</option>
        <option value="bodybuilding">Bodybuilding</option>
        <option value="crossfit">Cross Fitness</option>
        <option value="biking">Biking</option>
        <option value="running">Running</option>
        <option value="swimming">Swimming</option>
        <option value="walking">Walking</option>
      </select>
    </label><br><br>
    <label>Duration (minutes):<br><input type="number" id="primaryMinutes"></label><br><br>
    <label>Intensity (1–10):<br><input type="number" id="primaryIntensity" min="1" max="10"></label><br><br>

    <h3>Secondary Activity (Optional)</h3>
    <label>Type:<br>
      <select id="secondaryActivity">
        <option value="none">None</option>
        <option value="fitness">Fitness</option>
        <option value="bodybuilding">Bodybuilding</option>
        <option value="crossfit">Cross Fitness</option>
        <option value="biking">Biking</option>
        <option value="running">Running</option>
        <option value="swimming">Swimming</option>
        <option value="walking">Walking</option>
      </select>
    </label><br><br>
    <label>Duration (minutes):<br><input type="number" id="secondaryMinutes"></label><br><br>
    <label>Intensity (1–10):<br><input type="number" id="secondaryIntensity" min="1" max="10"></label><br><br>

    <h3>Goal</h3>
    <label>Your current goal:<br>
      <select id="goal" onchange="toggleGoal()" onchange="toggleGoal()">
        <option value="maintenance">Maintenance</option>
        <option value="cutting">Cutting</option>
        <option value="bulking">Bulking</option>
      </select>
    </label><br><br>

    <div id="cuttingOptions" style="display:none;">
      <label>How aggressively do you want to cut?<br>
        <select id="cutAggression">
          <option value="light">Gentle (0.25 kg/week)</option>
          <option value="moderate" selected>Moderate (0.5 kg/week)</option>
          <option value="aggressive">Aggressive (0.7 kg/week)</option>
        </select>
      </label><br><br>
      <label>Refeed days per week:<br>
        <select id="refeedDays">
          <option value="0">None</option>
          <option value="1">1 (e.g. weekend)</option>
          <option value="2">2 (e.g. midweek + weekend)</option>
        </select>
      </label><br><br>
    </div>

    <button type="button" onclick="calculateTDEE()" style="margin-top:1.5em;padding:0.75em;width:100%;font-size:1rem;background:#32cd32;color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;">Calculate TDEE</button>
  </form>
  <div id="result" style="margin-top:2em;font-weight:bold;text-align:center;font-size:1.2rem;"></div>
</div>

<script>
function toggleUnits() {
  const unit = document.getElementById("unitSystem").value;
  document.getElementById("weightUnit").textContent = unit === "metric" ? "kg" : "lbs";
  document.getElementById("heightUnit").textContent = unit === "metric" ? "cm" : "in";
}
function toggleGoal() {
  const goal = document.getElementById("goal").value;
  document.getElementById("cuttingOptions").style.display = goal === "cutting" ? "block" : "none";
}
function calculateTDEE() {
  const unit = document.getElementById("unitSystem").value;
  let weight = parseFloat(document.getElementById("weight").value);
  let height = parseFloat(document.getElementById("height").value);
  const age = parseInt(document.getElementById("age").value);
  const gender = document.getElementById("gender").value;
  const bodyfat = parseFloat(document.getElementById("bodyfat").value) || null;

  if (unit === "imperial") {
    weight *= 0.453592;
    height *= 2.54;
  }

  let bmr;
  if (bodyfat) {
    const leanMass = weight * (1 - bodyfat / 100);
    bmr = 370 + (21.6 * leanMass);
  } else {
    bmr = gender === "male"
      ? 10 * weight + 6.25 * height - 5 * age + 5
      : 10 * weight + 6.25 * height - 5 * age - 161;
  }

  const dailyActivity = document.getElementById("dailyActivity").value;
  let activityExtra = 200;
  if (dailyActivity === "light") activityExtra = 350;
  if (dailyActivity === "active") activityExtra = 500;

  function getMET(activity, intensity) {
    const baseMETs = {
      fitness: 6, bodybuilding: 6.5, crossfit: 8,
      biking: 7, running: 9, swimming: 7, walking: 3.5
    };
    return (baseMETs[activity] || 6) + ((intensity - 5) * 0.5);
  }

  const primaryActivity = document.getElementById("primaryActivity").value;
  const primaryMinutes = parseInt(document.getElementById("primaryMinutes").value) || 0;
  const primaryIntensity = parseInt(document.getElementById("primaryIntensity").value) || 5;
  const secondaryActivity = document.getElementById("secondaryActivity").value;
  const secondaryMinutes = parseInt(document.getElementById("secondaryMinutes").value) || 0;
  const secondaryIntensity = parseInt(document.getElementById("secondaryIntensity").value) || 0;

  const primaryMET = getMET(primaryActivity, primaryIntensity);
  const primaryCals = (primaryMET * 3.5 * weight / 200) * primaryMinutes;

  let secondaryCals = 0;
  if (secondaryActivity !== "none") {
    const secondaryMET = getMET(secondaryActivity, secondaryIntensity);
    secondaryCals = (secondaryMET * 3.5 * weight / 200) * secondaryMinutes;
  }

  const tdee = Math.round(bmr + activityExtra + primaryCals + secondaryCals);
  const goal = document.getElementById("goal").value;
  let goalKcal = tdee;
  if (goal === "cutting") {
    const aggression = document.getElementById("cutAggression").value;
    if (aggression === "light") goalKcal -= 275;
    if (aggression === "moderate") goalKcal -= 550;
    if (aggression === "aggressive") goalKcal -= 770;
  }
  if (goal === "bulking") {
    goalKcal += Math.round(tdee * 0.1);
  }

  const proteinGrams = Math.round(weight * 2.2);
  const fatGrams = Math.max(50, Math.round((goalKcal * 0.25) / 9));
  const proteinCals = proteinGrams * 4;
  const fatCals = fatGrams * 9;
  const carbCals = goalKcal - proteinCals - fatCals;
  const carbGrams = Math.round(carbCals / 4);

  document.getElementById("result").innerHTML =
    `<div style='text-align:left'>` +
    `<strong>Maintenance TDEE:</strong> ${tdee} kcal/day<br>` +
    `<strong>Goal Calories:</strong> ${goalKcal} kcal/day<br><br>` +
    `<strong>Macro Targets:</strong><br>` +
    `Protein: ${proteinGrams}g<br>` +
    `Fat: ${fatGrams}g<br>` +
    `Carbs: ${carbGrams}g` +
    `</div>`;
}

function toggleGoal() {
  const goal = document.getElementById("goal").value;
  const cutOptions = document.getElementById("cuttingOptions");
  cutOptions.style.display = goal === "cutting" ? "block" : "none";
}
toggleGoal();  // initialize visibility
</script>

</body>
</html>
