
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TDEE+ Calculator ‚Äì BELLICU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      background-color: #dcefe2;
      font-family: Arial, sans-serif;
      padding: 2em;
    }
    .container {
      max-width: 900px;
      background: #fff;
      padding: 2em;
      margin: auto;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #437b3b;
    }
    label, select, input {
      display: block;
      margin-bottom: 1em;
      width: 100%;
    }
    .inline {
      display: inline-block;
      width: 48%;
      margin-right: 2%;
    }
    .inline:last-child {
      margin-right: 0;
    }
    button {
      padding: 1em;
      width: 100%;
      background: #32cd32;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
    }
    table {
      width: 100%;
      margin-top: 2em;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.75em;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    img.logo {
      display: block;
      margin: 0 auto 1.5em;
      max-width: 200px;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="bellicu-logo.png" alt="BELLICU Logo" class="logo" />
    <h2>TDEE+ Calculator</h2>
    <form id="tdeeForm">
      <label>Units:
        <select id="unitSystem" onchange="toggleUnits()">
          <option value="metric">Metric (kg/cm)</option>
          <option value="imperial">Imperial (lbs/in)</option>
        </select>
      </label>
      <label>Age:<input type="number" id="age" required></label>
      <label>Gender:
        <select id="gender">
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </label>
      <div class="inline">
        <label>Height: <input type="number" id="height" required> <span id="heightUnit">cm</span></label>
      </div>
      <div class="inline">
        <label>Weight: <input type="number" id="weight" required> <span id="weightUnit">kg</span></label>
      </div>
      <label>Work Activity:
        <select id="dailyActivity">
          <option value="sedentary">Sedentary (office job)</option>
          <option value="light">Light (domestic, walking)</option>
          <option value="active">Active (physical labor)</option>
        </select>
      </label>

      <h3>Primary Activity</h3>
      <label>Type:
        <select id="primaryType">
          <option value="fitness">Fitness</option>
          <option value="bodybuilding">Bodybuilding</option>
          <option value="running">Running</option>
          <option value="cycling">Cycling</option>
          <option value="swimming">Swimming</option>
          <option value="walking">Walking</option>
        </select>
      </label>
      <label>Duration (minutes):<input type="number" id="primaryMinutes"></label>
      <label>Intensity (1‚Äì10):<input type="number" id="primaryIntensity" min="1" max="10"></label>

      <h3>Secondary Activity (optional)</h3>
      <label>Type:
        <select id="secondaryType">
          <option value="none">None</option>
          <option value="fitness">Fitness</option>
          <option value="walking">Walking</option>
          <option value="running">Running</option>
          <option value="cycling">Cycling</option>
        </select>
      </label>
      <label>Duration (minutes):<input type="number" id="secondaryMinutes"></label>
      <label>Intensity (1‚Äì10):<input type="number" id="secondaryIntensity" min="1" max="10"></label>

      <h3>Goal</h3>
      <label>
        <select id="goal" onchange="toggleCuttingOptions()">
          <option value="maintain">Maintain</option>
          <option value="cut">Cutting</option>
          <option value="bulk">Bulking</option>
        </select>
      </label>

      <div id="cuttingOptions" style="display:none;">
        <label>Cutting Aggression:
          <select id="cutAggression">
            <option value="light">Light (0.25 kg/week)</option>
            <option value="moderate" selected>Moderate (0.5 kg/week)</option>
            <option value="aggressive">Aggressive (0.7 kg/week)</option>
          </select>
        </label>
        <label>Refeed Days per Week:
          <select id="refeedDays">
            <option value="0">None</option>
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </label>
        <label><input type="checkbox" id="showStrategy"> Show 9-week Cutting Strategy</label>
      </div>

      <button type="button" onclick="calculateTDEE()">Calculate</button>
    </form>
    <div id="results"></div>
  </div>

  <script>
    function toggleUnits() {
      const unit = document.getElementById("unitSystem").value;
      document.getElementById("heightUnit").textContent = unit === "metric" ? "cm" : "in";
      document.getElementById("weightUnit").textContent = unit === "metric" ? "kg" : "lbs";
    }

    function toggleCuttingOptions() {
      const goal = document.getElementById("goal").value;
      document.getElementById("cuttingOptions").style.display = (goal === "cut") ? "block" : "none";
    }

    function calculateTDEE() {
      const age = parseInt(document.getElementById("age").value);
      const gender = document.getElementById("gender").value;
      let height = parseFloat(document.getElementById("height").value);
      let weight = parseFloat(document.getElementById("weight").value);
      const unit = document.getElementById("unitSystem").value;

      if (unit === "imperial") {
        height = height * 2.54;
        weight = weight * 0.4536;
      }

      const workActivity = document.getElementById("dailyActivity").value;
      const activityMultiplier = { sedentary: 1.2, light: 1.35, active: 1.55 }[workActivity];

      const bmr = gender === "male"
        ? 10 * weight + 6.25 * height - 5 * age + 5
        : 10 * weight + 6.25 * height - 5 * age - 161;

      // Training energy = intensity * duration * factor
      const primaryMin = parseInt(document.getElementById("primaryMinutes").value || 0);
      const primaryInt = parseInt(document.getElementById("primaryIntensity").value || 0);
      const secondaryMin = parseInt(document.getElementById("secondaryMinutes").value || 0);
      const secondaryInt = parseInt(document.getElementById("secondaryIntensity").value || 0);
      const trainingCalories = (primaryInt * primaryMin + secondaryInt * secondaryMin) * 0.2;

      const goal = document.getElementById("goal").value;
      let tdee = Math.round(bmr * activityMultiplier + trainingCalories);

      let result = `<p><strong>TDEE:</strong> ${tdee} kcal/day</p>`;

      if (goal === "cut") {
        const aggression = document.getElementById("cutAggression").value;
        const defMap = { light: 250, moderate: 500, aggressive: 700 };
        const deficit = defMap[aggression];
        const target = tdee - deficit;
        result += `<p><strong>Cutting Calories:</strong> ${target} kcal/day</p>`;
      } else if (goal === "bulk") {
        result += `<p><strong>Bulking Calories:</strong> ${tdee + 300} kcal/day</p>`;
      }

      if (goal === "cut" && document.getElementById("showStrategy").checked) {
        const refeedDays = parseInt(document.getElementById("refeedDays").value);
        const cutDays = 7 - refeedDays;
        const fullDeficit = 3850 / cutDays;
        const w1 = Math.round(tdee - fullDeficit * 0.66);
        const w4 = Math.round(tdee - fullDeficit * 0.85);
        const w7 = Math.round(tdee - fullDeficit);
        result += `
        <h3>üìâ 9-Week Cutting Strategy</h3>
        <table>
          <tr><th>Phase</th><th>Cut Days (kcal)</th><th>Refeed Days (kcal)</th></tr>
          <tr><td>Weeks 1‚Äì3</td><td>${w1}</td><td>${tdee}</td></tr>
          <tr><td>Weeks 4‚Äì6</td><td>${w4}</td><td>${tdee}</td></tr>
          <tr><td>Weeks 7‚Äì9</td><td>${w7}</td><td>${tdee}</td></tr>
        </table>
        <h4>üîÅ Reverse Diet (Weeks 10‚Äì12)</h4>
        <p>Increase by <strong>+100 kcal every 3 days</strong> from ~${w7} kcal back to ~${tdee} kcal.</p>`;
      }

      document.getElementById("results").innerHTML = result;
    }
  </script>
</body>
</html>
